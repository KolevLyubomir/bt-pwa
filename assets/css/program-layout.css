/* PROGRAM LAYOUT
   Структура на редове, хедъри, таблици и конфигурационен панел
*/

.prog-row { display:flex; align-items:flex-start; gap:12px; flex-wrap:wrap; margin:8px 0 0; }

.prog-head {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:12px;
  margin-bottom:6px;
  /* Важно: Забраняваме пренасянето, за да не пада бутонът под картинката */
  flex-wrap: nowrap; 
}

.prog-head-main {
  display:flex;
  align-items:center;
  gap:12px;
  min-width:0;
  /* Позволяваме на текста да се свива, но не и на картинката */
  flex: 1 1 auto;
}

/* ПРОМЯНА: Ъглите на снимките (диагонално изрязване) */
.prod-img { 
  width:76px; height:76px; 
  object-fit:contain; 
  /* Горе-Ляво: 12px, Горе-Дясно: 0, Долу-Дясно: 12px, Долу-Ляво: 0 */
  border-radius: 12px 0 12px 0; 
  background:#0d171b; 
  border:1px solid #254046;
  flex-shrink: 0;
}

.prog-pill {
  display:flex; flex-direction:column; gap:6px;
  padding:8px 10px; background:#0d171b; border:1px solid #254046; border-radius:10px;
  width:var(--pill-w); min-width:var(--pill-w); max-width:var(--pill-w);
}
.prog-pill label { display:flex; align-items:center; gap:6px; cursor:pointer; font-size:14px; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.prog-pill input[type="checkbox"] { width:16px; height:16px; margin:0; }

.prog-config {
  background: #131e24;
  border: 1px dashed #2a3e44;
  border-radius: 12px;
  padding: 12px;
  margin-top: 10px;
  margin-bottom: 10px;
  animation: slideDown .2s ease-out;
}
@keyframes slideDown { from { opacity:0; transform:translateY(-4px); } to { opacity:1; transform:translateY(0); } }

.prog-cap-stack { display:flex; flex-direction:column; gap:2px; min-width:0; overflow:hidden; }
.prog-cap-row { display:flex; align-items:center; gap:6px; }
.prog-cap-main { font-weight:700; font-size:15px; color:#e6f2ef; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }
.prog-cap-settings {
  background:transparent; border:none; padding:4px; cursor:pointer; color:#9ca3af; display:flex; align-items:center; justify-content:center;
}
.prog-cap-settings:hover { color:#e6f2ef; }
.prog-cap-settings svg { width:18px; height:18px; }
.prog-cap-brand { font-size:12px; color:#9fb4ad; white-space:nowrap; overflow:hidden; text-overflow:ellipsis; }

.clickable { cursor:pointer; transition:opacity .15s; }
.clickable:hover { opacity:0.8; }

.prog-sep { border:0; height:1px; background:#1e2b30; margin:16px 0; }

.pl-wrap { overflow-x:auto; margin-top:8px; padding-bottom:4px; -webkit-overflow-scrolling:touch; }
.pl-table { border-collapse:separate; border-spacing:3px; min-width:340px; }
.pl-table th { font-size:11px; text-transform:uppercase; color:var(--muted); padding-bottom:4px; text-align:center; }
.pl-time-cell {
  background:#0d171b; border:1px solid #20343a; border-radius:6px;
  height:44px; min-width:var(--pl-minw); text-align:center; color:#e6f2ef;
  font-size:var(--pl-font); font-weight:400; transition:background .15s, border-color .15s, box-shadow .15s;
}

/* Настройки в конфигурационния панел */
.brand-selector select { width: 100%; }
.custom-brand-field { margin-top: 10px; }
.custom-brand-field input { width: 100%; }

.config-actions {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-top: 26px;
  margin-bottom: 26px;
}
.config-buttons {
  display: flex;
  gap: 8px;
}
.config-actions .clk-btn {
  width: 34px;
  height: 34px;
}
.config-actions .clk-btn .clk-btn-icon svg {
  width: 20px;
  height: 20px;
}

/* Стойност до плъзгача */
.slider-val {
  color: var(--accent);
  font-weight: 800;
  font-size: 1.1em;
  padding: 0 4px;
}

/* Обвивка за плъзгача – 50% ширина, подравнен вляво */
.slider-track-wrapper {
  position: relative;
  margin-top: 8px;
  height: 10px;
  width: 50%;
  margin-left: 0;
  margin-right: 0;
}

.slider-track-fill {
  position: absolute;
  left: 0;
  top: 0;
  height: 10px;
  background: var(--accent);
  border-radius: 5px;
  pointer-events: none;
  z-index: 1;
}

.slider-control {
  -webkit-appearance: none;
  appearance: none;
  width: 100%;
  height: 10px;
  border-radius: 5px;
  border: 1px solid #254046;
  outline: none;
  padding: 0;
  position: relative;
  z-index: 2;
  background: transparent;
  cursor: pointer;
}
.slider-control::-webkit-slider-thumb {
  -webkit-appearance: none;
  appearance: none;
  width: 24px;
  height: 24px;
  background: var(--accent);
  border-radius: 50%;
  cursor: pointer;
  border: 3px solid #06241b;
  margin-top: -8px;
}
.slider-control::-moz-range-thumb {
  width: 24px;
  height: 24px;
  background: var(--accent);
  border-radius: 50%;
  cursor: pointer;
  border: 3px solid #06241b;
}

/* ПРОМЯНА: Стилизация на заглавията при мобилни устройства */
@media (max-width: 480px) {
  #pkg-core > h2,
  #pkg-extra > h2,
  #pkg-personal > h2 {
    font-size: 24px !important; /* Force override if inline styles exist */
    letter-spacing: 0.06em;
    text-align: center;
  }
}