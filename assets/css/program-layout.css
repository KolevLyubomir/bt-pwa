/* PROGRAM LAYOUT
   Структура на редове, хедъри, таблици и конфигурации
*/

.program-page main {
  display: flex;
  flex-direction: column;
  gap: 16px;
}

/* Ред в програмата (основен/доп. пакет) */
.prog-row {
  display: flex;
  flex-direction: column;
  gap: 10px;
}

/* Хедър над таблиците – име на продукт + бутон(и) */
.prog-head {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 12px;
  margin-bottom: 6px;
}

/* Лява част в хедъра – иконка + текст */
.prog-head-main {
  display: flex;
  align-items: center;
  gap: 10px;
}

/* Малка картинка на продукта (квадрат) */
.prod-img {
  width: 52px;
  height: 52px;
  border-radius: 12px;
  object-fit: cover;
  background: #020617;
}

/* Оригиналните надписи ProLact / Omni / Хитозан (едноредови) */
.prog-cap {
  font-weight: 700;
  font-size: 13px;
}

/* Стек за Берберин / Глюкоманан / EGCg */
.prog-cap-stack {
  display: flex;
  flex-direction: column;
  gap: 0; /* без допълнителна празнина между редовете */
}

/* Берберин – основен надпис */
.prog-cap-main {
  font-weight: 700;
  font-size: 13px;
  color: var(--text);
  font-family: inherit;
  line-height: 1.05; /* по-сбит ред */
  transition: color .2s ease;
}

/* Марка – същият размер и дебелина като ProLact / Omni / Хитозан */
.prog-cap-brand {
  font-size: 13px;
  font-weight: 700;
  color: var(--text);
  font-family: inherit;
  line-height: 1.05;    /* същата височина като горния ред */
  display: block;
  margin-top: -2px;     /* дръпваме марката леко нагоре към „Берберин“ */
}

/* --- Панел за Настройки --- */
.prog-config {
  flex-direction: column;
  gap: 14px;
  margin-top: 10px;
  padding-top: 10px;
  border-top: 1px solid var(--border);
}

.prog-config .field {
  display: flex;
  align-items: center;
  gap: 8px;
  margin-bottom: 4px;
}

.prog-config .field .lbl {
  min-width: 90px;
  font-size: 12px;
  color: var(--muted);
}

.prog-config .field input[type="text"],
.prog-config .field input[type="number"],
.prog-config .field select {
  flex: 1;
  height: 32px;
  border-radius: 999px;
  border: 1px solid #334155;
  background: #020617;
  color: var(--text);
  padding: 0 10px;
  font-size: 13px;
}

/* Допълнително поле за custom име (Берберин / Глюкоманан / EGCg) */
.custom-brand-field {
  margin-top: 2px;
}

/* Общо подравняване на бутони за Запази / Изтрий */
.config-actions {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-top: 4px;
}

.config-buttons {
  display: flex;
  align-items: center;
  gap: 6px;
}

/* Чип за марка над селекта (бутон с кръгла иконка и име) */
.brand-selector {
  flex-wrap: wrap;
}

.brand-selector .lbl {
  margin-bottom: 2px;
}

.brand-selector button {
  font-size: 13px;
}

/* Плъзгачите за брой приеми */
.slider-track-wrapper {
  position: relative;
  flex: 1;
  height: 18px;
  display: flex;
  align-items: center;
}

.slider-track-fill {
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
  height: 4px;
  border-radius: 999px;
  background: linear-gradient(90deg, #22c55e, #22c55e);
  pointer-events: none;
  max-width: 100%;
  width: 50%;
}

.slider-control {
  width: 100%;
  background: transparent;
}

/* Стойност отдясно на плъзгача (x3 / x4...) */
.slider-val {
  color: var(--accent);
  font-weight: 800;
  font-size: 1.1em;
  padding: 0 4px;
}

/* Ограничаваме примерно до 260px самата писта на плъзгача */
.prog-config .field .slider-track-wrapper {
  max-width: 260px;
}

/* Разделителни хоризонтални линии между блоковете */
.prog-sep {
  border: 0;
  border-top: 1px solid rgba(148, 163, 184, 0.25);
  margin: 10px 0;
}

/* Че да има малко въздух над хедъра в Допълнителен пакет */
#pkg-extra .prog-head {
  margin-top: 4px;
}

/* Опаковка на таблиците с програмните часове */
.pl-wrap {
  margin-top: 4px;
}

/* Таблица с дни/часове */
.pl-table {
  width: 100%;
  border-collapse: collapse;
  border-spacing: 0;
  font-size: 13px;
}

/* Заглавия с дните (Пн...Нд) */
.pl-table thead th.pl-day {
  text-align: center;
  padding: 3px 0 5px;
  font-weight: 600;
  font-size: 12px;
  color: var(--muted);
}

/* Събота и неделя визуално се отличават (цветово) */
.pl-table thead th.weekend {
  color: #f97373;
}

/* Клетка с час */
.pl-time-cell {
  text-align: center;
  padding: 5px 0;
  border-radius: 10px;
  cursor: pointer;
  user-select: none;
  position: relative;
  transition: background-color .15s ease, color .15s ease, box-shadow .15s ease;
}

/* Нормално състояние на клетката */
.pl-time-cell {
  color: #e5e7eb;
}

/* Ховър за клетка */
.pl-time-cell:hover {
  background: rgba(148, 163, 184, 0.18);
}

/* Активен ден (днес) в таблицата – outline/фон при нужда */
.pl-time-cell.is-today {
  box-shadow: 0 0 0 1px rgba(56, 189, 248, 0.85);
}

/* Състояния за алармен статус – класове идват от JS */
.pl-time-cell.state-intake {
  background: rgba(34, 197, 94, 0.18);
  color: #bbf7d0;
}

.pl-time-cell.state-snoozed {
  background: rgba(234, 179, 8, 0.18);
  color: #fef9c3;
}

.pl-time-cell.state-muted {
  background: rgba(148, 163, 184, 0.12);
  color: #cbd5f5;
  text-decoration: line-through;
}

/* Ако клетката е избрана в момента във времевия модал */
.pl-time-cell.is-selected {
  box-shadow: 0 0 0 1px #38bdf8;
}

/* Бутоните за часовник в хедъра */
.prog-head-actions {
  display: flex;
  align-items: center;
  gap: 6px;
}

/* Основен бутон-часовник (кръгъл) */
.clk-btn.intake {
  border-radius: 999px;
  padding: 0;
  width: 38px;
  height: 38px;
  border: 1px solid rgba(148, 163, 184, 0.45);
  background: radial-gradient(circle at 30% 20%, rgba(52, 211, 153, 0.28), transparent 60%),
              #020617;
  display: inline-flex;
  align-items: center;
  justify-content: center;
}

/* Когато бутонът е скрит, просто не се показва – JS управлява display:none */
.prog-intake-btn {
  margin-left: 4px;
}

/* Картинка на часовник + хапче */
.clk-btn-icon svg {
  width: 22px;
  height: 22px;
}

/* Оцветяване на елементите в иконата */
.pill-clock-circle {
  stroke: #22c55e;
  stroke-width: 1.6;
}

.pill-clock-hands {
  stroke: #22c55e;
  stroke-width: 1.5;
  stroke-linecap: round;
}

.pill-clock-pill {
  stroke: #22c55e;
  stroke-width: 1.2;
  fill: rgba(34, 197, 94, 0.08);
}

/* МАЛКО ПОДРАВНЯВАНЕ НА ТЕКСТОВЕТЕ В КОНФИГУРАЦИОННИЯ БЛОК */

.prog-config .field .lbl + .slider-track-wrapper {
  margin-left: 4px;
}

/* Диалог за потвърждение (Изтрий Марката) */
.bt-confirm-backdrop {
  position: fixed;
  inset: 0;
  background: rgba(15, 23, 42, 0.76);
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 9999;
}

.bt-confirm-dialog {
  background: #020617;
  border-radius: 18px;
  padding: 16px 18px 14px;
  width: 88%;
  max-width: 320px;
  box-shadow: 0 18px 45px rgba(0, 0, 0, 0.65);
  border: 1px solid #1f2937;
  font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

.bt-confirm-text {
  margin: 0 0 14px;
  font-size: 14px;
  color: #f9fafb;
}

.bt-confirm-actions {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 8px;
}

.bt-confirm-btn {
  border-radius: 999px;
  border: 1px solid transparent;
  padding: 6px 14px;
  font-size: 13px;
  cursor: pointer;
}

.bt-confirm-btn-secondary {
  background: transparent;
  color: #e5e7eb;
  border-color: #4b5563;
}

.bt-confirm-btn-danger {
  background: #b91c1c;
  color: #fef2f2;
  border-color: #fecaca;
}

/* Леко да не се разпъва прекалено прог-реда на малки екрани */
@media (max-width: 480px) {
  .prog-head {
    align-items: flex-start;
  }

  .prog-head-actions {
    align-self: center;
  }

  .prog-config .field {
    align-items: flex-start;
  }
}

/* Визуално отделяне на блоковете в Допълнителен пакет */
#pkg-extra .config-block {
  padding-top: 4px;
}

/* Когато заглавието е конфигурирано – евентуално лека промяна в цвета (ако решим с време)
.prog-cap-main.configured {
  color: #e5f9f0;
}
*/

/* За да няма разместване при дълги имена на марките – нека текстът да не чупи много */
.prog-cap-main,
.prog-cap-brand {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
